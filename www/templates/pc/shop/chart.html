{% extends "pc/shop/base_shop.html" %}
{% block title %}对账统计{% endblock %}

{% block page_title %}对账统计{% endblock %}

{% block css %}
<style type="text/css">

</style>
{% endblock %}

{% block javascript %}
<script type="text/javascript" src="{{MEDIA_URL}}js/echarts/echarts.js"></script>
<script type="text/javascript">
require.config({
    paths: {
        echarts: '{{MEDIA_URL}}js/echarts'
    }
});

require(
	[
		"echarts", 
		"echarts/chart/line", 
		"echarts/chart/bar"
	],
	function(ec){
		echarts = ec;
		
		getChart();
	}
);

var echarts,
	getChart = function(){
		var main = echarts.init(document.getElementById('main'));
		
		main.setOption({
			title: {
				text: '消费曲线'
			},
		    tooltip : {
		        trigger: 'axis',
		        axisPointer: {
                    type: 'line',
                    lineStyle : {
                      color: '#ddd',
                      width: 1,
                      type: 'solid'
                    }
                }
		    },
		    legend: {
		        data:['消费金额']
		    },
		    toolbox: {
		        show : false
		    },
			calculable : false,
			xAxis : [{
	            type : 'category',
	            boundaryGap : false,
	            data: (function(){
	            	var data = [];
	            	for(var i=1; i<=20; i++){
	            		data.push('2014-12-' + i);
	            	}
	            	return data;
	            })()
		    }],
		    yAxis : [{
		    	type : 'value'
		    }],
		    color: ['#EF8A55', '#428bca'],
		    series : [{
		        name:'消费金额',
		        type:'line',
		        smooth: true,
		        itemStyle: {
		        	normal: {
		        		areaStyle: {
		        			type: 'default'
		        		}
		        	}
		        },
		        data: (function(){
	            	var data = [];
	            	for(var i=1; i<=20; i++){
	            		data.push(Math.round(Math.random()*1000));
	            	}
	            	return data;
	            })(),
		    }]
		});
	};


$(document).ready(function(){
	$('.start-date').datetimepicker({
        format: 'yyyy-mm-dd',
        language: 'zh-CN',
        minView: 2,
        autoclose: true
    });

    $('.end-date').datetimepicker({
        format: 'yyyy-mm-dd',
        language: 'zh-CN',
        minView: 2,
        autoclose: true
    });
});
</script>
{% endblock %}

{% block right %}
<div class="row mr-0 ml-0">
	<div class="col-md-8 pb-10">
	</div>
	<div class="col-md-8 pt-10 pb-20">
		<form class="form-inline" role="form">
			<div class="input-group">
				<div class="input-group-addon">开始日期</div>
				<input type="text" class="input form-control start-date" value="2014-12-01">
		    </div>
		    <div class="input-group">
				<div class="input-group-addon">结束日期</div>
				<input type="text" class="input form-control end-date" value="2014-12-08">
		    </div>
		    <div class="input-group">
		    	<button class="btn btn-default">查 询</button>
		    </div>
		</form>
	</div>
	<div id="main" class="col-md-12 min-h400 pl-15 pr-15"></div>
</div>
{% endblock %}